/*! For license information please see main.94114118abdf546da0d3.hot-update.js.LICENSE.txt */
self.webpackHotUpdateprada("main",{"./styles/index.scss":(e,s,a)=>{"use strict";a.r(s);var t=a("./node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js")(e.id,{publicPath:"",locals:!1});e.hot.dispose(t),e.hot.accept(void 0,t)},"./app/components/Canvas/Collections/index.js":()=>{throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/apple/Documents/Projects/Prada/app/components/Canvas/Collections/index.js: Unexpected token (43:8)\n\n[0m [90m 41 |[39m         [36mthis[39m[33m.[39monResize({[0m\n[0m [90m 42 |[39m             sizes[33m:[39m [0m\n[0m[31m[1m>[22m[39m[90m 43 |[39m         })[0m\n[0m [90m    |[39m         [31m[1m^[22m[39m[0m\n[0m [90m 44 |[39m[0m\n[0m [90m 45 |[39m         [36mthis[39m[33m.[39mgroup[33m.[39msetParent([36mthis[39m[33m.[39mscene)[0m\n[0m [90m 46 |[39m[0m\n    at constructor (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:353:19)\n    at Parser.raise (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:3277:19)\n    at Parser.unexpected (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:3297:16)\n    at Parser.parseExprAtom (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10964:16)\n    at Parser.parseExprSubscripts (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10580:23)\n    at Parser.parseUpdate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10563:21)\n    at Parser.parseMaybeUnary (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10541:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10395:61)\n    at Parser.parseExprOps (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10400:23)\n    at Parser.parseMaybeConditional (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10377:23)\n    at Parser.parseMaybeAssign (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10338:21)\n    at /Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10308:39\n    at Parser.allowInAnd (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11926:12)\n    at Parser.parseMaybeAssignAllowIn (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10308:17)\n    at Parser.parseObjectProperty (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11459:83)\n    at Parser.parseObjPropValue (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11484:100)\n    at Parser.parsePropertyDefinition (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11424:17)\n    at Parser.parseObjectLike (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11344:21)\n    at Parser.parseExprAtom (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10865:23)\n    at Parser.parseExprSubscripts (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10580:23)\n    at Parser.parseUpdate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10563:21)\n    at Parser.parseMaybeUnary (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10541:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10395:61)\n    at Parser.parseExprOps (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10400:23)\n    at Parser.parseMaybeConditional (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10377:23)\n    at Parser.parseMaybeAssign (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10338:21)\n    at /Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10308:39\n    at Parser.allowInAnd (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11926:12)\n    at Parser.parseMaybeAssignAllowIn (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10308:17)\n    at Parser.parseExprListItem (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11686:18)\n    at Parser.parseCallExpressionArguments (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10766:22)\n    at Parser.parseCoverCallAndAsyncArrowHead (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10683:29)\n    at Parser.parseSubscript (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10620:19)\n    at Parser.parseSubscripts (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10593:19)\n    at Parser.parseExprSubscripts (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10584:17)\n    at Parser.parseUpdate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10563:21)\n    at Parser.parseMaybeUnary (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10541:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10395:61)\n    at Parser.parseExprOps (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10400:23)\n    at Parser.parseMaybeConditional (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10377:23)\n    at Parser.parseMaybeAssign (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10338:21)\n    at Parser.parseExpressionBase (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10292:23)\n    at /Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10288:39\n    at Parser.allowInAnd (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:11921:16)\n    at Parser.parseExpression (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:10288:17)\n    at Parser.parseStatementContent (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:12362:23)\n    at Parser.parseStatementLike (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:12229:17)\n    at Parser.parseStatementListItem (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:12209:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:12786:61)\n    at Parser.parseBlockBody (/Users/apple/Documents/Projects/Prada/node_modules/@babel/parser/lib/index.js:12779:10)")},"./app/components/Canvas/index.js":(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a("./node_modules/ogl/src/core/Renderer.js"),o=a("./node_modules/ogl/src/core/Camera.js"),r=a("./node_modules/ogl/src/core/Transform.js"),n=a("./app/components/Canvas/Home/index.js"),i=a("./app/components/Canvas/About/index.js"),l=a("./app/components/Canvas/Collections/index.js"),d=a("./app/components/Canvas/transition.js"),c=a("./app/components/Canvas/Detail/index.js");class p{constructor({template:e}){this.template=e,this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0}}createRenderer(){this.renderer=new t.Renderer({alpha:!0,antiAliasing:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new o.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new r.Transform}createHome(){this.home=new n.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyHome(){this.home&&(this.home.destroy(),this.home=null,console.log("destroy home!"))}createAbout(){this.about=new i.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyAbout(){this.about&&(this.about.destroy(),this.about=null,console.log("destroy about!"))}createCollections(){this.collections=new l({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyCollections(){this.collections&&(this.collections.destroy(),this.collections=null)}createDetail(){this.detail=new c.default({gl:this.gl,scene:this.scene,sizes:this.sizes,transition:this.transition})}destroyDetail(){this.detail&&(this.detail.destroy(),this.detail=null)}onPreloaded(){this.onPageChangeEnd(this.template)}onPageChangeStart(e,s){this.collections&&this.collections.hide(),this.about&&this.about.hide(),this.home&&this.home.hide(),this.detail&&this.detail.hide(),this.fromCollectionsToDetail="collections"===this.template&&s.indexOf("detail")>-1,this.fromDetailToCollections="detail"===this.template&&s.indexOf("collections")>-1,(this.fromCollectionsToDetail||this.fromDetailToCollections)&&(this.transition=new d.default({collections:this.collections,url:s,gl:this.gl,scene:this.scene,sizes:this.sizes}),this.transition.setElement(this.collections||this.detail))}onPageChangeEnd(e){"collections"===e?this.createCollections():this.collections&&this.destroyCollections(),"Detail"===e?this.createDetail():this.detail&&this.destroyDetail(),"about"===e?this.createAbout():this.about&&this.destroyAbout(),"home"===e?this.createHome():this.home&&this.destroyHome()}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const e=this.camera.fov*(Math.PI/180),s=2*Math.tan(e/2)*this.camera.position.z,a=s*this.camera.aspect;this.sizes={height:s,width:a};const t={sizes:this.sizes};this.collections&&this.collections.onResize(t),this.detail&&this.detail.onResize(t),this.about&&this.about.onResize(t),this.home&&this.home.onResize(t)}onTouchDown(e){this.isDown=!0,this.x.start=e.touches?e.touches[0].clientX:e.clientX,this.y.start=e.touches?e.touches[0].clientY:e.clientY;const s={x:this.x,y:this.y};this.collections&&this.collections.onTouchDown&&this.collections.onTouchDown(s),this.detail&&this.detail.onTouchDown&&this.detail.onTouchDown(s),this.about&&this.about.onTouchDown&&this.about.onTouchDown(s),this.home&&this.home.onTouchDown&&this.home.onTouchDown(s)}onTouchMove(e){if(!this.isDown)return;const s=e.touches?e.touches[0].clientX:e.clientX,a=e.touches?e.touches[0].clientY:e.clientY;this.x.end=s,this.y.end=a;const t={x:this.x,y:this.y};this.collections&&this.collections.onTouchMove&&this.collections.onTouchMove(t),this.detail&&this.detail.onTouchMove&&this.detail.onTouchMove(t),this.about&&this.about.onTouchMove&&this.about.onTouchMove(t),this.home&&this.home.onTouchMove&&this.home.onTouchMove(t)}onTouchUp(e){this.isDown=!1;const s=e.touches?e.touches[0].clientX:e.clientX,a=e.touches?e.touches[0].clientY:e.clientY;this.x.end=s,this.y.end=a;const t={x:this.x,y:this.y};this.collections&&this.collections.onTouchUp&&this.collections.onTouchUp(t),this.detail&&this.detail.onTouchUp&&this.detail.onTouchUp(t),this.about&&this.about.onTouchUp&&this.about.onTouchUp(t),this.home&&this.home.onTouchUp&&this.home.onTouchUp(t)}onWheel(e){this.collections&&this.collections.onWheel(e),this.home&&this.home.onWheel(e)}update(e){this.collections&&this.collections.update(e),this.detail&&this.detail.update(e),this.about&&this.about.update(e),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}}},(function(e){e.h=()=>"6bc069b4b71880c832b7"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLMEMsT0FBT29DLE9BQU9DLEdBR25CL0UsS0FBS2tDLE9BQ0xsQyxLQUFLa0MsTUFBTTRDLE9BQU9DLEdBR2xCL0UsS0FBSzBCLE1BQ0wxQixLQUFLMEIsS0FBS29ELFNBR2Q5RSxLQUFLVSxTQUFTc0UsT0FBTyxDQUNqQjdELE9BQVFuQixLQUFLbUIsT0FDYkksTUFBT3ZCLEtBQUt1QixPQUVwQixrQkM1V0owRCxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhZGEvLi9zdHlsZXMvaW5kZXguc2Nzcz9mMGZmIiwid2VicGFjazovL3ByYWRhLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWRhL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICAvLyAxNzIzNzE3NDQ3NjY4XG4gICAgICB2YXIgY3NzUmVsb2FkID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcInB1YmxpY1BhdGhcIjpcIlwiLFwibG9jYWxzXCI6ZmFsc2V9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShjc3NSZWxvYWQpO1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQodW5kZWZpbmVkLCBjc3NSZWxvYWQpO1xuICAgIH1cbiAgIiwiaW1wb3J0IHsgQ2FtZXJhLCBSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lL2luZGV4LmpzJ1xuaW1wb3J0IEFib3V0IGZyb20gJy4vQWJvdXQvaW5kZXguanMnXG5pbXBvcnQgQ29sbGVjdGlvbnMgZnJvbSAnLi9Db2xsZWN0aW9ucy9pbmRleC5qcydcbmltcG9ydCBUcmFuc2l0aW9uIGZyb20gJy4vdHJhbnNpdGlvbi5qcydcbmltcG9ydCBEZXRhaWwgZnJvbSAnLi9EZXRhaWwvaW5kZXguanMnXG5cbi8vIGltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IgKHsgdGVtcGxhdGUgfSkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGVcblxuICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKClcbiAgICAgICAgdGhpcy5jcmVhdGVDYW1lcmEoKVxuICAgICAgICB0aGlzLmNyZWF0ZVNjZW5lKClcblxuICAgICAgICB0aGlzLm9uUmVzaXplKClcblxuICAgICAgICAvLyB0aGlzLm9uUGFnZUNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxuICAgICAgICAvLyB0aGlzLmNyZWF0ZUhvbWUoKVxuXG4gICAgICAgIHRoaXMueCA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMueSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVJlbmRlcmVyICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcih7XG4gICAgICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgICAgICAgIGFudGlBbGlhc2luZzogdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsXG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmdsLmNhbnZhcylcbiAgICB9XG5cbiAgICBjcmVhdGVDYW1lcmEgKCkge1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5nbClcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDVcbiAgICB9XG5cbiAgICBjcmVhdGVTY2VuZSAoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVHJhbnNmb3JtKClcbiAgICB9XG5cbiAgICAvLyAgICAgIEhvbWVcblxuICAgIGNyZWF0ZUhvbWUgKCkge1xuICAgICAgICB0aGlzLmhvbWUgPSBuZXcgSG9tZSh7XG4gICAgICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICAgICAgfSlcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyZWF0ZSBob21lIScpXG4gICAgfVxuXG4gICAgZGVzdHJveUhvbWUgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaG9tZSkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5ob21lLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmhvbWUgPSBudWxsXG4gICAgICAgIGNvbnNvbGUubG9nKCdkZXN0cm95IGhvbWUhJylcbiAgICB9XG5cbiAgICAvLyAgICAgICAgICBBYm91dFxuXG4gICAgY3JlYXRlQWJvdXQgKCkge1xuICAgICAgICB0aGlzLmFib3V0ID0gbmV3IEFib3V0KHtcbiAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICAgICAgICBzaXplczogdGhpcy5zaXplc1xuICAgICAgICB9KVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JlYXRlIEFib3V0IScpXG4gICAgfVxuXG4gICAgZGVzdHJveUFib3V0ICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFib3V0KSByZXR1cm5cblxuICAgICAgICB0aGlzLmFib3V0LmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmFib3V0ID0gbnVsbFxuICAgICAgICBjb25zb2xlLmxvZygnZGVzdHJveSBhYm91dCEnKVxuICAgIH1cblxuICAgIC8vICAgICAgICAgICAgICBDb2xsZWN0aW9uc1xuXG4gICAgY3JlYXRlQ29sbGVjdGlvbnMgKCkge1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25zID0gbmV3IENvbGxlY3Rpb25zKHtcbiAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICAgICAgICBzaXplczogdGhpcy5zaXplc1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRlc3Ryb3lDb2xsZWN0aW9ucyAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jb2xsZWN0aW9ucykgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5jb2xsZWN0aW9ucy5kZXN0cm95KClcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9ucyA9IG51bGxcbiAgICB9XG5cbiAgICAvLyBEZXRhaWxcbiAgICBjcmVhdGVEZXRhaWwgKCkge1xuICAgICAgICB0aGlzLmRldGFpbCA9IG5ldyBEZXRhaWwoe1xuICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhpcy50cmFuc2l0aW9uXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZGVzdHJveURldGFpbCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kZXRhaWwpIHJldHVyblxuXG4gICAgICAgIHRoaXMuZGV0YWlsLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmRldGFpbCA9IG51bGxcbiAgICB9XG5cbiAgICAvLyAgICAgICAgICBFdmVudHNcblxuICAgIG9uUHJlbG9hZGVkICgpIHtcbiAgICAgICAgdGhpcy5vblBhZ2VDaGFuZ2VFbmQodGhpcy50ZW1wbGF0ZSlcbiAgICB9XG5cbiAgICBvblBhZ2VDaGFuZ2VTdGFydCAodGVtcGxhdGUsIHVybCkge1xuICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9ucy5oaWRlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICAgICAgICB0aGlzLmFib3V0LmhpZGUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgICAgICAgdGhpcy5ob21lLmhpZGUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFpbC5oaWRlKClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZnJvbUNvbGxlY3Rpb25zVG9EZXRhaWwgPSB0aGlzLnRlbXBsYXRlID09PSAnY29sbGVjdGlvbnMnICYmIHVybC5pbmRleE9mKCdkZXRhaWwnKSA+IC0xXG4gICAgICAgIHRoaXMuZnJvbURldGFpbFRvQ29sbGVjdGlvbnMgPSB0aGlzLnRlbXBsYXRlID09PSAnZGV0YWlsJyAmJiB1cmwuaW5kZXhPZignY29sbGVjdGlvbnMnKSA+IC0xXG5cbiAgICAgICAgaWYgKHRoaXMuZnJvbUNvbGxlY3Rpb25zVG9EZXRhaWwgfHwgdGhpcy5mcm9tRGV0YWlsVG9Db2xsZWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gbmV3IFRyYW5zaXRpb24oe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zOiB0aGlzLmNvbGxlY3Rpb25zLFxuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgICAgICAgICAgICBzaXplczogdGhpcy5zaXplc1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uLnNldEVsZW1lbnQodGhpcy5jb2xsZWN0aW9ucyB8fCB0aGlzLmRldGFpbClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUGFnZUNoYW5nZUVuZCAodGVtcGxhdGUpIHtcbiAgICAgICAgLy8gaWYgKHRoaXMudHJhbnNpdGlvbikge1xuICAgICAgICAvLyAgICAgdGhpcy50cmFuc2l0aW9uLmFuaW1hdGUodGhpcy5jb2xsZWN0aW9ucylcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gJ2NvbGxlY3Rpb25zJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb2xsZWN0aW9ucygpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb2xsZWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95Q29sbGVjdGlvbnMoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbXBsYXRlID09PSAnRGV0YWlsJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVEZXRhaWwoKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGV0YWlsKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lEZXRhaWwoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbXBsYXRlID09PSAnYWJvdXQnKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFib3V0KClcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFib3V0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lBYm91dCgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGVtcGxhdGUgPT09ICdob21lJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVIb21lKClcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUhvbWUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZXNpemUgKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcblxuICAgICAgICB0aGlzLmNhbWVyYS5wZXJzcGVjdGl2ZSh7XG4gICAgICAgICAgICBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgZm92ID0gdGhpcy5jYW1lcmEuZm92ICogKE1hdGguUEkgLyAxODApXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBNYXRoLnRhbihmb3YgLyAyKSAqIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnpcbiAgICAgICAgY29uc3Qgd2lkdGggPSBoZWlnaHQgKiB0aGlzLmNhbWVyYS5hc3BlY3RcblxuICAgICAgICAvLyBjb25zdCBmb3YgPSB0aGlzLmNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDEwMClcbiAgICAgICAgLy8gY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogdGhpcy5jYW1lcmEucG9zaXRpb24uelxuICAgICAgICAvLyBjb25zdCB3aWR0aCA9IGhlaWdodCAqIHRoaXMuY2FtZXJhLmFzcGVjdFxuXG4gICAgICAgIHRoaXMuc2l6ZXMgPSB7XG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uUmVzaXplKHZhbHVlcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRldGFpbCkge1xuICAgICAgICAgICAgdGhpcy5kZXRhaWwub25SZXNpemUodmFsdWVzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWJvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvdXQub25SZXNpemUodmFsdWVzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgICAgICAgdGhpcy5ob21lLm9uUmVzaXplKHZhbHVlcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVG91Y2hEb3duIChldmVudCkge1xuICAgICAgICB0aGlzLmlzRG93biA9IHRydWVcblxuICAgICAgICB0aGlzLnguc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxuICAgICAgICB0aGlzLnkuc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbnMgJiYgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoRG93bikge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoRG93bih2YWx1ZXMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kZXRhaWwgJiYgdGhpcy5kZXRhaWwub25Ub3VjaERvd24pIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsLm9uVG91Y2hEb3duKHZhbHVlcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFib3V0ICYmIHRoaXMuYWJvdXQub25Ub3VjaERvd24pIHtcbiAgICAgICAgICAgIHRoaXMuYWJvdXQub25Ub3VjaERvd24odmFsdWVzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaG9tZSAmJiB0aGlzLmhvbWUub25Ub3VjaERvd24pIHtcbiAgICAgICAgICAgIHRoaXMuaG9tZS5vblRvdWNoRG93bih2YWx1ZXMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblRvdWNoTW92ZSAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuXG4gICAgICAgIHRoaXMueC5lbmQgPSB4XG4gICAgICAgIHRoaXMueS5lbmQgPSB5XG5cbiAgICAgICAgLy8gdGhpcy54LmRpc3RhbmNlID0gdGhpcy54LnN0YXJ0IC0gdGhpcy54LmVuZFxuICAgICAgICAvLyB0aGlzLnkuZGlzdGFuY2UgPSB0aGlzLnkuc3RhcnQgLSB0aGlzLnkuZW5kXG5cbiAgICAgICAgY29uc3QgdmFsdWVzID0ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9ucyAmJiB0aGlzLmNvbGxlY3Rpb25zLm9uVG91Y2hNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uVG91Y2hNb3ZlKHZhbHVlcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRldGFpbCAmJiB0aGlzLmRldGFpbC5vblRvdWNoTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXRhaWwub25Ub3VjaE1vdmUodmFsdWVzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYWJvdXQgJiYgdGhpcy5hYm91dC5vblRvdWNoTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5hYm91dC5vblRvdWNoTW92ZSh2YWx1ZXMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ob21lICYmIHRoaXMuaG9tZS5vblRvdWNoTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5ob21lLm9uVG91Y2hNb3ZlKHZhbHVlcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVG91Y2hVcCAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuXG4gICAgICAgIGNvbnN0IHggPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxuICAgICAgICBjb25zdCB5ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFlcblxuICAgICAgICB0aGlzLnguZW5kID0geFxuICAgICAgICB0aGlzLnkuZW5kID0geVxuXG4gICAgICAgIC8vIHRoaXMueC5kaXN0YW5jZSA9IHRoaXMueC5zdGFydCAtIHRoaXMueC5lbmRcbiAgICAgICAgLy8gdGhpcy55LmRpc3RhbmNlID0gdGhpcy55LnN0YXJ0IC0gdGhpcy55LmVuZFxuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbnMgJiYgdGhpcy5jb2xsZWN0aW9ucy5vblRvdWNoVXApIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbnMub25Ub3VjaFVwKHZhbHVlcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRldGFpbCAmJiB0aGlzLmRldGFpbC5vblRvdWNoVXApIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsLm9uVG91Y2hVcCh2YWx1ZXMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hYm91dCAmJiB0aGlzLmFib3V0Lm9uVG91Y2hVcCkge1xuICAgICAgICAgICAgdGhpcy5hYm91dC5vblRvdWNoVXAodmFsdWVzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaG9tZSAmJiB0aGlzLmhvbWUub25Ub3VjaFVwKSB7XG4gICAgICAgICAgICB0aGlzLmhvbWUub25Ub3VjaFVwKHZhbHVlcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uV2hlZWwgKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zLm9uV2hlZWwoZXZlbnQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ob21lKSB7XG4gICAgICAgICAgICB0aGlzLmhvbWUub25XaGVlbChldmVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZSAoc2Nyb2xsKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25zLnVwZGF0ZShzY3JvbGwpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kZXRhaWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsLnVwZGF0ZShzY3JvbGwpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hYm91dCkge1xuICAgICAgICAgICAgdGhpcy5hYm91dC51cGRhdGUoc2Nyb2xsKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xuICAgICAgICAgICAgdGhpcy5ob21lLnVwZGF0ZSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih7XG4gICAgICAgICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmVcbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI2YmMwNjliNGI3MTg4MGM4MzJiN1wiKSJdLCJuYW1lcyI6WyJjc3NSZWxvYWQiLCJtb2R1bGUiLCJpZCIsImhvdCIsImRpc3Bvc2UiLCJhY2NlcHQiLCJ1bmRlZmluZWQiLCJDYW52YXMiLCJjb25zdHJ1Y3RvciIsInRlbXBsYXRlIiwidGhpcyIsImNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlU2NlbmUiLCJvblJlc2l6ZSIsIngiLCJzdGFydCIsImRpc3RhbmNlIiwiZW5kIiwieSIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJhbHBoYSIsImFudGlBbGlhc2luZyIsImdsIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsIlRyYW5zZm9ybSIsImNyZWF0ZUhvbWUiLCJob21lIiwiSG9tZSIsInNpemVzIiwiZGVzdHJveUhvbWUiLCJkZXN0cm95IiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUFib3V0IiwiYWJvdXQiLCJBYm91dCIsImRlc3Ryb3lBYm91dCIsImNyZWF0ZUNvbGxlY3Rpb25zIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9ucyIsImRlc3Ryb3lDb2xsZWN0aW9ucyIsImNyZWF0ZURldGFpbCIsImRldGFpbCIsIkRldGFpbCIsInRyYW5zaXRpb24iLCJkZXN0cm95RGV0YWlsIiwib25QcmVsb2FkZWQiLCJvblBhZ2VDaGFuZ2VFbmQiLCJvblBhZ2VDaGFuZ2VTdGFydCIsInVybCIsImhpZGUiLCJmcm9tQ29sbGVjdGlvbnNUb0RldGFpbCIsImluZGV4T2YiLCJmcm9tRGV0YWlsVG9Db2xsZWN0aW9ucyIsIlRyYW5zaXRpb24iLCJzZXRFbGVtZW50Iiwic2V0U2l6ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBlcnNwZWN0aXZlIiwiYXNwZWN0IiwiZm92IiwiTWF0aCIsIlBJIiwiaGVpZ2h0IiwidGFuIiwid2lkdGgiLCJ2YWx1ZXMiLCJvblRvdWNoRG93biIsImV2ZW50IiwiaXNEb3duIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwidXBkYXRlIiwic2Nyb2xsIiwicmVuZGVyIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9