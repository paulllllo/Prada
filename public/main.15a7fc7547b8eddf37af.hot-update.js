/*! For license information please see main.15a7fc7547b8eddf37af.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateprada("main",{"./styles/index.scss":(t,e,s)=>{s.r(e);var i=s("./node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js")(t.id,{publicPath:"",locals:!1});t.hot.dispose(i),t.hot.accept(void 0,i)},"./app/components/Canvas/Home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),r=s("./app/components/Canvas/Home/Media.js"),l=s("./node_modules/lodash/lodash.js"),o=s("./node_modules/gsap/index.js");class a{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.mediaElements=document.querySelectorAll(".home_gallery_media_image"),this.galleryElement=document.querySelector(".home_gallery"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scroll={x:0,y:0},this.scrollCurrent={x:0,y:0},this.speed={current:0,target:0,lerp:.1},this.createGeometry(),this.createGallery(),this.onResize({sizes:this.sizes}),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new h.Plane(this.gl)}createGallery(){this.medias=(0,l.map)(this.mediaElements,((t,e)=>new r.default({element:t,geometry:this.geometry,gl:this.gl,scene:this.group,sizes:this.sizes,index:e})))}show(){(0,l.map)(this.medias,(t=>{t.show()}))}hide(){(0,l.map)(this.medias,(t=>{t.hide()}))}onResize(t){this.scroll={x:0,y:0},this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={width:this.galleryWidth=this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryHeight=this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,(0,l.map)(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y,this.speed.target=1}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){this.speed.target=0}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){this.galleryBounds&&(this.speed.current=o.default.utils.interpolate(this.speed.current,this.speed.target,this.speed.lerp),this.x.current=o.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=o.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="up":this.scroll.y>this.y.current&&(this.y.direction="down"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,(0,l.map)(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}const i=t.mesh.scale.y/2;if("up"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("down"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll,this.speed.current)})))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"62b3cf87b1b8d314e6bd"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXJCakUsS0FBS1ksRUFBRTJDLFVBQXNCLENBQzFCM0IsRUFBTTZCLEtBQUtFLFNBQVMvQyxFQUFJc0QsRUFFMUJsRSxLQUFLRCxNQUFNdUMsT0FBUyxJQUN4QlYsRUFBTWdDLE1BQU1oRCxHQUFLWixLQUFLaUMsYUFBYUssT0FDbkNWLEVBQU02QixLQUFLSSxTQUFTQyxFQUFJVixFQUFBQSxRQUFLQyxNQUFNVSxPQUFrQixLQUFWQyxLQUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUV4RSxDQUVBckMsRUFBTXVCLE9BQU9uRCxLQUFLYSxPQUFRYixLQUFLZSxNQUFNTixRQUFRLElBRXJELENBR0EwRCxPQUFBQSxHQUNJbkUsS0FBS0YsTUFBTXNFLFlBQVlwRSxLQUFLQyxNQUNoQyxrQkM3TUpvRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhZGEvLi9zdHlsZXMvaW5kZXguc2Nzcz9mMGZmIiwid2VicGFjazovL3ByYWRhLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhZGEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9O1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE3MjM3MTc1Nzc5NDFcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzXCIpKG1vZHVsZS5pZCwge1wicHVibGljUGF0aFwiOlwiXCIsXCJsb2NhbHNcIjpmYWxzZX0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGNzc1JlbG9hZCk7XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdCh1bmRlZmluZWQsIGNzc1JlbG9hZCk7XG4gICAgfVxuICAiLCJpbXBvcnQgeyBQbGFuZSwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IE1lZGlhIGZyb20gJy4vTWVkaWEuanMnXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBnbCwgc2NlbmUsIHNpemVzIH0pIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgICAgICB0aGlzLnNpemVzID0gc2l6ZXNcblxuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpXG5cbiAgICAgICAgdGhpcy5tZWRpYUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvbWVfZ2FsbGVyeV9tZWRpYV9pbWFnZScpXG4gICAgICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZV9nYWxsZXJ5JylcblxuICAgICAgICB0aGlzLnggPSB7XG4gICAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgICAgdGFyZ2V0OiAwLFxuICAgICAgICAgICAgbGVycDogMC4xXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnkgPSB7XG4gICAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgICAgdGFyZ2V0OiAwLFxuICAgICAgICAgICAgbGVycDogMC4xXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbEN1cnJlbnQgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zcGVlZCA9IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgICAgICBsZXJwOiAwLjFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKVxuICAgICAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKVxuXG4gICAgICAgIHRoaXMub25SZXNpemUoe1xuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmdyb3VwLnNldFBhcmVudCh0aGlzLnNjZW5lKVxuXG4gICAgICAgIHRoaXMuc2hvdygpXG4gICAgfVxuXG4gICAgY3JlYXRlR2VvbWV0cnkgKCkge1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wpXG4gICAgfVxuXG4gICAgY3JlYXRlR2FsbGVyeSAoKSB7XG4gICAgICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLFxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzLFxuICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vICAgICAgICAgIFNob3dcbiAgICBzaG93ICgpIHtcbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEpID0+IHtcbiAgICAgICAgICAgIG1lZGlhLnNob3coKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhpZGUgKCkge1xuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4ge1xuICAgICAgICAgICAgbWVkaWEuaGlkZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gICAgICAgICAgICAgICAgICAgRXZlbnRzXG5cbiAgICBvblJlc2l6ZSAoZXZlbnQpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0hvbWUgb25SZXNpemUoKScpXG4gICAgICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2FsbGVyeUJvdW5kcyA9IHRoaXMuZ2FsbGVyeUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgXG5cbiAgICAgICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzXG5cbiAgICAgICAgdGhpcy5nYWxsZXJ5U2l6ZXMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nYWxsZXJ5V2lkdGggPSB0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZ2FsbGVyeUhlaWdodCA9IHRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnNpemVzLmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwXG4gICAgICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkudGFyZ2V0ID0gMFxuXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsKSlcbiAgICB9XG5cbiAgICBvblRvdWNoRG93biAoeyB4LCB5IH0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJyZW50LnggPSB0aGlzLnNjcm9sbC54XG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueVxuXG4gICAgICAgIHRoaXMuc3BlZWQudGFyZ2V0ID0gMVxuICAgIH1cblxuICAgIG9uVG91Y2hNb3ZlICh7IHgsIHkgfSkge1xuICAgICAgICBjb25zdCB4RGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcbiAgICAgICAgY29uc3QgeURpc3RhbmNlID0geS5zdGFydCAtIHkuZW5kXG5cbiAgICAgICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlXG4gICAgICAgIHRoaXMueS50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueSAtIHlEaXN0YW5jZVxuICAgIH1cblxuICAgIG9uVG91Y2hVcCAoeyB4LCB5IH0pIHtcbiAgICAgICAgdGhpcy5zcGVlZC50YXJnZXQgPSAwXG4gICAgfVxuXG4gICAgb25XaGVlbCAoeyBwaXhlbFgsIHBpeGVsWSB9KSB7XG4gICAgICAgIHRoaXMueC50YXJnZXQgKz0gcGl4ZWxYXG4gICAgICAgIHRoaXMueS50YXJnZXQgKz0gcGl4ZWxZXG4gICAgfVxuXG4gICAgLy8gICAgICAgICAgTG9vcFxuICAgIHVwZGF0ZSAoKSB7XG4gICAgICAgIGlmICghdGhpcy5nYWxsZXJ5Qm91bmRzKSByZXR1cm5cblxuICAgICAgICB0aGlzLnNwZWVkLmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMuc3BlZWQuY3VycmVudCwgdGhpcy5zcGVlZC50YXJnZXQsIHRoaXMuc3BlZWQubGVycClcblxuICAgICAgICB0aGlzLnguY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy54LmN1cnJlbnQsIHRoaXMueC50YXJnZXQsIHRoaXMueC5sZXJwKVxuICAgICAgICB0aGlzLnkuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy55LmN1cnJlbnQsIHRoaXMueS50YXJnZXQsIHRoaXMueS5sZXJwKVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMueC5jdXJyZW50LCB0aGlzLnkuY3VycmVudClcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0KVxuXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC54IDwgdGhpcy54LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAncmlnaHQnXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueCA+IHRoaXMueC5jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ2xlZnQnXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zY3JvbGwueSA8IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3VwJ1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy55LmRpcmVjdGlvbiA9ICdkb3duJ1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC5jdXJyZW50XG4gICAgICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkuY3VycmVudFxuXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gbWVkaWEubWVzaC5zY2FsZS54IC8gMlxuXG4gICAgICAgICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWFxuXG4gICAgICAgICAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueCArPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnggLSBzY2FsZVhcblxuICAgICAgICAgICAgICAgIGlmICh4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2NhbGVZID0gbWVkaWEubWVzaC5zY2FsZS55IC8gMlxuXG4gICAgICAgICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgKyBzY2FsZVlcblxuICAgICAgICAgICAgICAgIGlmICh5IDwgLXRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS55ICs9IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodFxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IG1lZGlhLm1lc2gucG9zaXRpb24ueSAtIHNjYWxlWVxuXG4gICAgICAgICAgICAgICAgaWYgKHkgPiB0aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueSAtPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gR1NBUC51dGlscy5yYW5kb20oLU1hdGguUEkgKiAwLjAzLCBNYXRoLlBJICogMC4wMylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lZGlhLnVwZGF0ZSh0aGlzLnNjcm9sbCwgdGhpcy5zcGVlZC5jdXJyZW50KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vICAgICAgICAgIERlc3Ryb3lcbiAgICBkZXN0cm95ICgpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0aGlzLmdyb3VwKVxuICAgIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjYyYjNjZjg3YjFiOGQzMTRlNmJkXCIpIl0sIm5hbWVzIjpbImNzc1JlbG9hZCIsIm1vZHVsZSIsImlkIiwiaG90IiwiZGlzcG9zZSIsImFjY2VwdCIsInVuZGVmaW5lZCIsIkhvbWUiLCJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsIm1lZGlhRWxlbWVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnYWxsZXJ5RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImxlcnAiLCJ5Iiwic2Nyb2xsIiwic2Nyb2xsQ3VycmVudCIsInNwZWVkIiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVHYWxsZXJ5Iiwib25SZXNpemUiLCJzZXRQYXJlbnQiLCJzaG93IiwiZ2VvbWV0cnkiLCJQbGFuZSIsIm1lZGlhcyIsIm1hcCIsImVsZW1lbnQiLCJpbmRleCIsIk1lZGlhIiwibWVkaWEiLCJoaWRlIiwiZXZlbnQiLCJnYWxsZXJ5Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2FsbGVyeVNpemVzIiwid2lkdGgiLCJnYWxsZXJ5V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiZ2FsbGVyeUhlaWdodCIsImlubmVySGVpZ2h0Iiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsInhEaXN0YW5jZSIsInN0YXJ0IiwiZW5kIiwieURpc3RhbmNlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsInVwZGF0ZSIsIkdTQVAiLCJ1dGlscyIsImludGVycG9sYXRlIiwiZGlyZWN0aW9uIiwic2NhbGVYIiwibWVzaCIsInNjYWxlIiwicG9zaXRpb24iLCJleHRyYSIsInJvdGF0aW9uIiwieiIsInJhbmRvbSIsIk1hdGgiLCJQSSIsInNjYWxlWSIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==